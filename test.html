<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editable Table Cell with Dropdown</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }

        th,
        td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
            cursor: pointer;
            /* Makes it clear that the cell is clickable */
        }

        .editable {
            background-color: #f9f9f9;
        }

        .dropdown {
            display: none;
            /* Initially hide dropdown */
        }
    </style>
</head>

<body>

    <table>
        <tr>
            <th>Name</th>
            <th>Age</th>
        </tr>
        <tr>
            <td class="editable" onclick="editCell(this)">John Doe</td>
            <td class="editable" onclick="editCell(this)">30</td>
        </tr>
        <tr>
            <td class="editable" onclick="editCell(this)">Jane Smith</td>
            <td class="editable" onclick="editCell(this)">25</td>
        </tr>
    </table>

    <script>
        function editCell(cell) {
            // Check if a dropdown is already present
            if (cell.querySelector('select')) return;

            const currentValue = cell.textContent.trim();

            // Create a dropdown
            const dropdown = document.createElement('select');

            // Sample options (you can customize these)
            const options = ['25', '30', '35', '40'];
            options.forEach(option => {
                const opt = document.createElement('option');
                opt.value = option;
                opt.textContent = option;
                if (option === currentValue) {
                    opt.selected = true; // Select current value
                }
                dropdown.appendChild(opt);
            });

            // Replace cell content with dropdown
            cell.innerHTML = ''; // Clear cell content
            cell.appendChild(dropdown); // Add dropdown to cell

            // Focus the dropdown
            dropdown.focus();

            // Handle dropdown losing focus
            dropdown.onblur = function () {
                cell.textContent = dropdown.value; // Update cell with selected value
            };

            // Handle selection change
            dropdown.onchange = function () {
                cell.textContent = dropdown.value; // Update cell with selected value
            };
        }
    </script>

</body>

</html>